{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  extends: ["config:recommended"],
  baseBranches: ["main"],
  lockFileMaintenance: {
    enabled: true,
    automerge: true,
  },
  packageRules: [
    {
      matchUpdateTypes: ["major", "minor", "patch"],
      automerge: true,
    },
  ],
  customManagers: [
    {
      customType: "jsonata",
      fileFormat: "jsonc",
      fileMatch: ["(^|/)deno.jsonc?$"],
      matchStrings: [
        " \
          $each(imports, function($import) {( \
            $groups := $match($import,/^(npm:)?(.+)@(.+?)$/).groups; \
            $groups[0] ? { \
              'depName': $groups[1], \
              'currentValue': $groups[2], \
              'datasource': 'npm', \
              'versioning': 'npm' \
            } \
          )}) \
        ",
      ],
    },
  ]
}
